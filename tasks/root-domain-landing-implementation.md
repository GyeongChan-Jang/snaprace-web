# 루트 도메인 랜딩 구현 계획

## 목표
`snap-race.com`에는 마케팅 중심 홈 경험을 제공하고, 조직 서브도메인에서는 기존 이벤트 검색 흐름을 유지합니다.

## 범위 및 산출물
- 도메인 유형에 따라 `src/app/page.tsx`에서 루트 랜딩 또는 기존 비브 검색을 렌더링하는 서버 사이드 분기.
- 루트 도메인 요청 시 `src/app/organization-loader.tsx`가 early return으로 조직 조회를 건너뛰도록 조정.
- 네비게이션-히어로-파트너 로고-주요 효익-사용 방법-가격 정책-후기-FAQ-CTA-푸터로 구성된 마케팅 랜딩 컴포지션과 설정 기반 컨텐츠.
- 모바일 퍼스트, 미니멀 내비, 강력한 헤드라인, 인터랙티브 비주얼, 소셜프루프, 단계별 베네핏, 투명한 가격, 반복 CTA, FAQ/지원 연결, SEO/퍼포먼스 최적화 원칙 반영.
- 도메인 인식 헤더/푸터: `OrganizationContext`에 `isDefaultSite` 신호를 추가해 마케팅 사이트와 조직 포털에서 서로 다른 네비게이션/CTA 제공.
- 랜딩 전용 메타데이터 및 OG 에셋 업데이트.
- 루트·서브도메인 모두에서 `/`, `/events`, `/events/[id]`, `/events/[id]/[bib]` 경로 스모크 테스트.

## 구현 단계
1. **컨텐츠 및 에셋 정리**
   - 랜딩 페이지용 카피, 이미지, CTA 목적지를 수집합니다.
   - 이미지는 `public/images/marketing/`에, 카피는 `src/content/landing.ts` 등 구조화된 모듈로 정의합니다.
   - 모바일 퍼스트 레이아웃과 미니멀 내비게이션, 반복 CTA 배치 등을 반영한 와이어를 확정합니다.
2. **홈 라우트 리팩터**
   - 기존 클라이언트 구현을 `src/app/_components/EventSearchHome.tsx`로 분리합니다.
   - `src/app/page.tsx`를 서버 컴포넌트로 교체해 `x-organization` 헤더를 읽고, 루트 도메인에서는 `MarketingLanding`을, 서브도메인에서는 `EventSearchHome`을 렌더링합니다.
   - 루트 트래픽일 때 `src/app/organization-loader.tsx`가 즉시 반환하도록 수정해 조직 데이터 호출을 피합니다.
   - 필요 시 `generateMetadata`를 도입해 루트 랜딩 메타 정보를 분기합니다.
3. **마케팅 랜딩 제작**
   - `MarketingLanding`을 서버 컴포넌트 중심으로 구현하고, 상호작용이 필요한 영역만 클라이언트로 전환합니다.
   - 네비게이션 바, 히어로(소셜 프루프 및 제품 스크린샷 포함), 파트너 로고, 주요 효익, 사용 방법(3단계), 가격 섹션, 후기, FAQ, 하단 CTA, 푸터 순으로 섹션을 구성합니다.
   - 모바일 퍼스트 그리드, 강력한 헤드라인, 비주얼/인터랙션, 단계별 베네핏, 반복 CTA, FAQ/지원 연결, SEO/퍼포먼스 최적화 항목을 각 섹션 설계에 녹입니다.
   - CTA 버튼은 `/events`, 문의/데모 폼 등 제품 중심 목적지로 연결하며 글로벌 이벤트 하이라이트는 포함하지 않습니다.
4. **공용 레이아웃 업데이트**
   - `OrganizationContext`에 `isDefaultSite` 속성을 추가하고, Header/Footer는 해당 신호로 분기합니다.
   - `Header`는 루트 도메인일 때 미니멀한 메뉴·고강도 CTA 중심 레이아웃을 제공하고, 서브도메인에서는 기존 이벤트 탐색 메뉴를 유지합니다.
   - `Footer`는 루트 도메인일 때 회사 소개·지원 링크를 노출하고, 서브도메인일 때만 파트너 섹션을 유지합니다.
5. **폴백 및 오류 처리**
   - 조직 조회 실패 시 기존 조직 포털 폴백 흐름(예: 기본 이벤트 목록/알림)을 유지하고 별도 화면은 추가하지 않습니다.
6. **테스트 및 QA**
   - `pnpm check` 실행 후 루트/서브도메인 경로에 대해 수동 스모크 테스트를 진행합니다.
   - 모바일 뷰에서 주요 섹션과 CTA가 정상 동작하는지 검증하고, 로딩 속도/메타 태그 구성을 확인합니다.
   - OG/Twitter 카드가 정상 노출되는지 미리보기 도구로 확인합니다.

## 배포 체크리스트
- `www.snap-race.com` 리다이렉션 정책을 확정하고 필요 시 미들웨어 또는 인프라 설정을 조정합니다.
- 마케팅 에셋이 Next.js 빌드 결과에 포함되는지 확인합니다.
- 마케팅/오퍼레이션 팀과 카피 및 추가 분석 도구(Crisp, GA, Clarity 외)가 필요한지 사전 조율합니다.

## 열려 있는 질문
- (현재 없음)
